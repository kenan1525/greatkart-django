{% extends "base.html" %}
{% load static %}

{% block content %}

<section class="section-intro py-3">
  <div class="container">
    <div class="row">

      <!-- Banner -->
      <div class="col-12 col-md-4 mb-3">
        <div class="banner-box d-flex flex-column justify-content-center text-center rounded">
          <h4><b>WELCOME TO DEVTÜRKS</b></h4>
          <p class="lead">DEVTÜRKS is the first platform for G2G and B2G interactions</p>
          <p class="lead">We are here to contribute to your cooperations</p>

          <div class="d-flex justify-content-center gap-4 mt-4">
            <a class="btn btn-danger" href="{% url 'store' %}">LET'S BEGIN</a>
            <a class="btn btn-danger" href="{% url 'about' %}">WE SUPPORTED BY</a>
          </div>
        </div>
      </div>

      <!-- Slider -->
      <div class="col-12 col-md-8 mb-3">
        <div class="swiper-container slider-box rounded">
          <div class="swiper-wrapper">
            {% for slider in sliders %}
            <div class="swiper-slide">
              <img src="{{ slider.image.url }}" alt="{{ slider.title }}">
            </div>
            {% endfor %}
          </div>

          <div class="swiper-pagination"></div>
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- PRODUCTS -->
<section class="section-products py-4">
  <div class="container">
    <div class="row g-3">
      {% for product in products %}
      <div class="col-6 col-md-4">
        <div class="product-card">
          <a href="{{ product.get_url }}" class="img-wrap">
            <img src="{{ product.images.url }}" alt="{{ product.product_name }}">
          </a>

          <div class="info-wrap">
            <h5 class="title">
              <a href="{{ product.get_url }}">{{ product.product_name }}</a>
            </h5>

            <div class="d-flex gap-2 mt-2">
              <a href="{% url 'add_cart' product.id %}" class="btn btn-danger btn-sm w-100">Add to contract</a>
              <a href="{{ product.get_url }}" class="btn btn-outline-dark btn-sm w-100">View Detail</a>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<style>
.banner-box {
  height: 400px;
  padding: 20px;
  background: linear-gradient(to bottom right, rgb(123,125,245), rgb(221,130,240));
}

.slider-box {
  height: 400px;
}

.slider-box img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 12px;
}

.product-card {
  background: #fff;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  transition: 0.3s ease;
}

.product-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 12px 25px rgba(0,0,0,0.18);
}

.product-card img {
  width: 100%;
  height: 260px;
  object-fit: cover;
  transition: 0.4s ease;
}

.product-card:hover img {
  transform: scale(1.08);
}

.info-wrap {
  padding: 12px;
  text-align: center;
}

.title a {
  color: #000;
  font-weight: 600;
  text-decoration: none;
}

@media (max-width: 576px) {
  .banner-box { height: 250px; }
  .slider-box { height: 250px; }
  .product-card img { height: 180px; }
}
</style>

{% endblock content %}

{% block extra_js %}
<script>
document.addEventListener("DOMContentLoaded", function () {
  new Swiper('.swiper-container', {
    effect: 'cube',
    grabCursor: true,
    loop: true,

    autoplay: {
      delay: 2500,
      disableOnInteraction: false
    },

    speed: 1500,

    cubeEffect: {
      shadow: true,
      slideShadows: true,
      shadowOffset: 20,
      shadowScale: 0.94,
    },

    pagination: {
      el: '.swiper-pagination',
      clickable: true,
    },

    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    }
  });
});
</script>
{% endblock %}
